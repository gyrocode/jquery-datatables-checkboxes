/*! jQuery DataTables Checkboxes v1.2.13 - www.gyrocode.com/projects/jquery-datatables-checkboxes/ - License: MIT - Author: Gyrocode LLC / www.gyrocode.com */
!function(c){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return c(e,window,document)}):"object"==typeof exports?module.exports=function(e,t){return e=e||window,t&&t.fn.dataTable||(t=require("datatables.net")(e,t).$),c(t,0,e.document)}:c(jQuery,window,document)}(function(x,e,k){"use strict";function p(e){if(!f.versionCheck||!f.versionCheck("1.10.8"))throw"DataTables Checkboxes requires DataTables 1.10.8 or newer";this.s={dt:new f.Api(e),columns:[],data:{},dataDisabled:{},ignoreSelect:!1},this.s.ctx=this.s.dt.settings()[0],this.s.ctx.checkboxes||(e.checkboxes=this)._constructor()}var f=x.fn.dataTable,t=(p.prototype={_constructor:function(){for(var e,t,c,l=this,o=l.s.dt,s=l.s.ctx,a=!1,n=!1,d=0;d<s.aoColumns.length;d++)if(s.aoColumns[d].checkboxes){var i,h=x(o.column(d).header()),a=!0,r=(x.isPlainObject(s.aoColumns[d].checkboxes)||(s.aoColumns[d].checkboxes={}),s.aoColumns[d].checkboxes=x.extend({},p.defaults,s.aoColumns[d].checkboxes),{searchable:!1,orderable:!1});if(""===s.aoColumns[d].sClass?r.className="dt-checkboxes-cell":r.className=s.aoColumns[d].sClass+" dt-checkboxes-cell",null===s.aoColumns[d].sWidthOrig&&(r.width="1%"),null===s.aoColumns[d].mRender&&(r.render=function(){return'<input type="checkbox" class="dt-checkboxes" autocomplete="off">'}),f.ext.internal._fnColumnOptions(s,d,r),h.removeClass("sorting"),h.off(".dt"),null===s.sAjaxSource&&((i=o.cells("tr",d)).invalidate("data"),x(i.nodes()).addClass(r.className)),l.s.data[d]={},l.s.dataDisabled[d]={},l.s.columns.push(d),s.aoColumns[d].checkboxes.selectRow&&(s._select?n=!0:s.aoColumns[d].checkboxes.selectRow=!1),s.aoColumns[d].checkboxes.selectAll&&(h.data("html",h.html()),null!==s.aoColumns[d].checkboxes.selectAllRender)&&(i="",x.isFunction(s.aoColumns[d].checkboxes.selectAllRender)?i=s.aoColumns[d].checkboxes.selectAllRender():"string"==typeof s.aoColumns[d].checkboxes.selectAllRender&&(i=s.aoColumns[d].checkboxes.selectAllRender),h.html(i).addClass("dt-checkboxes-select-all").attr("data-col",d)),s.aoColumns[d].checkboxes.initialSelectionArray)for(var u=0;u<s.aoColumns[d].checkboxes.initialSelectionArray.length;++u){var b=s.aoColumns[d].checkboxes.initialSelectionArray[u];s.checkboxes.s.data[d][b]=1}}a&&(l.loadState(),e=x(o.table().node()),t=x(o.table().body()),c=x(o.table().container()),n&&(e.addClass("dt-checkboxes-select"),e.on("user-select.dt.dtCheckboxes",function(e,t,c,o,s){l.onDataTablesUserSelect(e,t,c,o,s)}),e.on("select.dt.dtCheckboxes deselect.dt.dtCheckboxes",function(e,t,c,o){l.onDataTablesSelectDeselect(e,c,o)}),s._select.info)&&(o.select.info(!1),e.on("draw.dt.dtCheckboxes select.dt.dtCheckboxes deselect.dt.dtCheckboxes",function(){l.showInfoSelected()})),e.on("draw.dt.dtCheckboxes",function(e){l.onDataTablesDraw(e)}),t.on("click.dtCheckboxes","input.dt-checkboxes",function(e){l.onClick(e,this)}),c.on("click.dtCheckboxes",'thead th.dt-checkboxes-select-all input[type="checkbox"]',function(e){l.onClickSelectAll(e,this)}),c.on("click.dtCheckboxes","thead th.dt-checkboxes-select-all",function(){x('input[type="checkbox"]',this).not(":disabled").trigger("click")}),n||c.on("click.dtCheckboxes","tbody td.dt-checkboxes-cell",function(){x('input[type="checkbox"]',this).not(":disabled").trigger("click")}),c.on("click.dtCheckboxes","thead th.dt-checkboxes-select-all label, tbody td.dt-checkboxes-cell label",function(e){e.preventDefault()}),x(k).on("click.dtCheckboxes",'.fixedHeader-floating thead th.dt-checkboxes-select-all input[type="checkbox"]',function(e){s._fixedHeader&&s._fixedHeader.dom.header.floating&&l.onClickSelectAll(e,this)}),x(k).on("click.dtCheckboxes",".fixedHeader-floating thead th.dt-checkboxes-select-all",function(){s._fixedHeader&&s._fixedHeader.dom.header.floating&&x('input[type="checkbox"]',this).trigger("click")}),e.on("init.dt.dtCheckboxes",function(){setTimeout(function(){l.onDataTablesInit()},0)}),e.on("stateSaveParams.dt.dtCheckboxes",function(e,t,c){l.onDataTablesStateSave(e,t,c)}),e.one("destroy.dt.dtCheckboxes",function(e,t){l.onDataTablesDestroy(e,t)}))},onDataTablesInit:function(){var s=this,e=s.s.dt,t=s.s.ctx;t.oFeatures.bServerSide||(t.oFeatures.bStateSave&&s.updateState(),x(e.table().node()).on("xhr.dt.dtCheckboxes",function(e,t,c,o){s.onDataTablesXhr(e.settings,c,o)}))},onDataTablesUserSelect:function(e,t,c,o){var o=o.index().row,s=this.getSelectRowColIndex(),t=t.cell({row:o,column:s}).data();this.isCellSelectable(s,t)||e.preventDefault()},onDataTablesSelectDeselect:function(e,t,c){var o=this,s=o.s.dt;o.s.ignoreSelect||"row"===t&&null!==(t=o.getSelectRowColIndex())&&(s=s.cells(c,t),o.updateData(s,t,"select"===e.type),o.updateCheckbox(s,t,"select"===e.type),o.updateSelectAll(t))},onDataTablesStateSave:function(e,t,c){var o=this,s=o.s.ctx;x.each(o.s.columns,function(e,t){s.aoColumns[t].checkboxes.stateSave&&(Object.prototype.hasOwnProperty.call(c,"checkboxes")||(c.checkboxes=[]),c.checkboxes[t]=o.s.data[t])})},onDataTablesDestroy:function(){var e=this.s.dt,t=x(e.table().node()),c=x(e.table().body()),e=x(e.table().container());x(k).off("click.dtCheckboxes"),e.off(".dtCheckboxes"),c.off(".dtCheckboxes"),t.off(".dtCheckboxes"),this.s.data={},this.s.dataDisabled={},x(".dt-checkboxes-select-all",t).each(function(e,t){x(t).html(x(t).data("html")).removeClass("dt-checkboxes-select-all")})},onDataTablesDraw:function(){var c=this,e=c.s.ctx;(e.oFeatures.bServerSide||e.oFeatures.bDeferRender)&&c.updateStateCheckboxes({page:"current",search:"none"}),x.each(c.s.columns,function(e,t){c.updateSelectAll(t)})},onDataTablesXhr:function(){var c=this,e=c.s.dt,t=c.s.ctx,e=x(e.table().node());x.each(c.s.columns,function(e,t){c.s.data[t]={},c.s.dataDisabled[t]={}}),t.oFeatures.bStateSave&&(c.loadState(),e.one("draw.dt.dtCheckboxes",function(){c.updateState()}))},updateData:function(e,t,c){var o=this.s.dt,s=this.s.ctx;s.aoColumns[t].checkboxes&&(e.data().each(function(e){c?s.checkboxes.s.data[t][e]=1:delete s.checkboxes.s.data[t][e]}),s.oFeatures.bStateSave)&&s.aoColumns[t].checkboxes.stateSave&&o.state.save()},updateSelect:function(e,t){var c=this.s.dt;this.s.ctx._select&&(this.s.ignoreSelect=!0,t?c.rows(e).select():c.rows(e).deselect(),this.s.ignoreSelect=!1)},updateCheckbox:function(e,t,c){var o=this.s.ctx,e=e.nodes();e.length&&(x("input.dt-checkboxes",e).not(":disabled").prop("checked",c),x.isFunction(o.aoColumns[t].checkboxes.selectCallback))&&o.aoColumns[t].checkboxes.selectCallback(e,c)},updateState:function(){var c=this,e=(c.s.dt,c.s.ctx);c.updateStateCheckboxes({page:"all",search:"none"}),e._oFixedColumns&&setTimeout(function(){x.each(c.s.columns,function(e,t){c.updateSelectAll(t)})},0)},updateStateCheckboxes:function(e){var s=this,t=s.s.dt,l=s.s.ctx;t.cells("tr",s.s.columns,e).every(function(e,t){var c=this.data(),o=s.isCellSelectable(t,c);Object.prototype.hasOwnProperty.call(l.checkboxes.s.data,t)&&Object.prototype.hasOwnProperty.call(l.checkboxes.s.data[t],c)&&(l.aoColumns[t].checkboxes.selectRow&&o&&s.updateSelect(e,!0),s.updateCheckbox(this,t,!0)),o||x("input.dt-checkboxes",this.node()).prop("disabled",!0)})},onClick:function(e,t){var c=this,o=c.s.dt,s=c.s.ctx,l=x(t).closest("td"),l=l.parents(".DTFC_Cloned").length?o.fixedColumns().cellIndex(l):l,a=o.cell(l),o=a.index(),n=o.column;o.row;s.aoColumns[n].checkboxes.selectRow?s._select&&("os"===s._select.style?(e.stopPropagation(),a.checkboxes.select(t.checked)):setTimeout(function(){var e=a.data(),e=Object.prototype.hasOwnProperty.call(c.s.data,n)&&Object.prototype.hasOwnProperty.call(c.s.data[n],e);e!==t.checked&&(c.updateCheckbox(a,n,e),c.updateSelectAll(n))},0)):(a.checkboxes.select(t.checked),e.stopPropagation())},onClickSelectAll:function(e,t){var c=this.s.dt,o=this.s.ctx,s=null,l=x(t).closest("th");s=l.parents(".DTFC_Cloned").length?c.fixedColumns().cellIndex(l).column:c.column(l).index(),x(t).data("is-changed",!0),c.column(s,{page:o.aoColumns[s].checkboxes&&o.aoColumns[s].checkboxes.selectAllPages?"all":"current",search:"applied"}).checkboxes.select(t.checked),e.stopPropagation()},loadState:function(){var c,o=this,e=o.s.dt,s=o.s.ctx;s.oFeatures.bStateSave&&(c=e.state.loaded(),x.each(o.s.columns,function(e,t){c&&c.checkboxes&&c.checkboxes.hasOwnProperty(t)&&s.aoColumns[t].checkboxes.stateSave&&(o.s.data[t]=c.checkboxes[t])}))},updateSelectAll:function(c){var o,s,e,t,l,a,n,d=this,i=d.s.dt,h=d.s.ctx;h.aoColumns[c].checkboxes&&h.aoColumns[c].checkboxes.selectAll&&(t=i.cells("tr",c,{page:h.aoColumns[c].checkboxes.selectAllPages?"all":"current",search:"applied"}),i=i.table().container(),i=x('.dt-checkboxes-select-all[data-col="'+c+'"] input[type="checkbox"]',i),s=o=0,t=t.data(),x.each(t,function(e,t){d.isCellSelectable(c,t)?Object.prototype.hasOwnProperty.call(d.s.data,c)&&Object.prototype.hasOwnProperty.call(d.s.data[c],t)&&o++:s++}),h._fixedHeader&&h._fixedHeader.dom.header.floating&&(i=x('.fixedHeader-floating .dt-checkboxes-select-all[data-col="'+c+'"] input[type="checkbox"]')),t=0===o?e=!1:o+s===t.length?!(e=!0):e=!0,l=i.data("is-changed"),a=i.prop("checked"),n=i.prop("indeterminate"),l||a!==e||n!==t)&&(i.data("is-changed",!1),i.prop({checked:!t&&e,indeterminate:t}),x.isFunction(h.aoColumns[c].checkboxes.selectAllCallback))&&h.aoColumns[c].checkboxes.selectAllCallback(i.closest("th").get(0),e,t)},showInfoSelected:function(){var l=this.s.dt,e=this.s.ctx;if(e.aanFeatures.i){var t=this.getSelectRowColIndex();if(null!==t){var c,a=0;for(c in e.checkboxes.s.data[t])Object.prototype.hasOwnProperty.call(e.checkboxes.s.data,t)&&Object.prototype.hasOwnProperty.call(e.checkboxes.s.data[t],c)&&a++;x.each(e.aanFeatures.i,function(e,t){var c,t=x(t),o=x('<span class="select-info"/>'),s=(s="row",c=a,o.append(x('<span class="select-item"/>').append(l.i18n("select."+s+"s",{_:"%d "+s+"s selected",0:"",1:"1 "+s+" selected"},c))),t.children("span.select-info"));s.length&&s.remove(),""!==o.text()&&t.append(o)})}}},isCellSelectable:function(e,t){var c=this.s.ctx;return!Object.prototype.hasOwnProperty.call(c.checkboxes.s.dataDisabled,e)||!Object.prototype.hasOwnProperty.call(c.checkboxes.s.dataDisabled[e],t)},getCellIndex:function(e){var t=this.s.dt;return this.s.ctx._oFixedColumns?t.fixedColumns().cellIndex(e):t.cell(e).index()},getSelectRowColIndex:function(){for(var e=this.s.ctx,t=null,c=0;c<e.aoColumns.length;c++)if(e.aoColumns[c].checkboxes&&e.aoColumns[c].checkboxes.selectRow){t=c;break}return t},updateFixedColumn:function(e){var t,c=this,o=c.s.dt,s=c.s.ctx;s._oFixedColumns&&(t=s._oFixedColumns.s.iLeftColumns,s=s.aoColumns.length-s._oFixedColumns.s.iRightColumns-1,e<t||s<e)&&(o.fixedColumns().update(),setTimeout(function(){x.each(c.s.columns,function(e,t){c.updateSelectAll(t)})},0))}},p.defaults={stateSave:!0,selectRow:!1,selectAll:!0,selectAllPages:!0,selectCallback:null,selectAllCallback:null,selectAllRender:'<input type="checkbox" autocomplete="off">'},x.fn.dataTable.Api);return t.register("checkboxes()",function(){return this}),t.registerPlural("columns().checkboxes.select()","column().checkboxes.select()",function(i){return void 0===i&&(i=!0),this.iterator("column-rows",function(c,o,e,t,s){var l,a,n,d;c.aoColumns[o].checkboxes&&(d=[],x.each(s,function(e,t){d.push({row:t,column:o})}),a=(l=this.cells(d)).data(),n=[],d=[],x.each(a,function(e,t){c.checkboxes.isCellSelectable(o,t)&&(d.push({row:s[e],column:o}),n.push(s[e]))}),l=this.cells(d),c.checkboxes.updateData(l,o,i),c.aoColumns[o].checkboxes.selectRow&&c.checkboxes.updateSelect(n,i),c.checkboxes.updateCheckbox(l,o,i),c.checkboxes.updateSelectAll(o),c.checkboxes.updateFixedColumn(o))},1)}),t.registerPlural("cells().checkboxes.select()","cell().checkboxes.select()",function(l){return void 0===l&&(l=!0),this.iterator("cell",function(e,t,c){var o,s;e.aoColumns[c].checkboxes&&(o=this.cells([{row:t,column:c}]),s=this.cell({row:t,column:c}).data(),e.checkboxes.isCellSelectable(c,s))&&(e.checkboxes.updateData(o,c,l),e.aoColumns[c].checkboxes.selectRow&&e.checkboxes.updateSelect(t,l),e.checkboxes.updateCheckbox(o,c,l),e.checkboxes.updateSelectAll(c),e.checkboxes.updateFixedColumn(c))},1)}),t.registerPlural("cells().checkboxes.enable()","cell().checkboxes.enable()",function(l){return void 0===l&&(l=!0),this.iterator("cell",function(e,t,c){var o,s;e.aoColumns[c].checkboxes&&(o=(s=this.cell({row:t,column:c})).data(),l?delete e.checkboxes.s.dataDisabled[c][o]:e.checkboxes.s.dataDisabled[c][o]=1,(s=s.node())&&x("input.dt-checkboxes",s).prop("disabled",!l),e.aoColumns[c].checkboxes.selectRow)&&Object.prototype.hasOwnProperty.call(e.checkboxes.s.data,c)&&Object.prototype.hasOwnProperty.call(e.checkboxes.s.data[c],o)&&e.checkboxes.updateSelect(t,l)},1)}),t.registerPlural("cells().checkboxes.disable()","cell().checkboxes.disable()",function(e){return this.checkboxes.enable(!(e=void 0===e?!0:e))}),t.registerPlural("columns().checkboxes.deselect()","column().checkboxes.deselect()",function(e){return this.checkboxes.select(!(e=void 0===e?!0:e))}),t.registerPlural("cells().checkboxes.deselect()","cell().checkboxes.deselect()",function(e){return this.checkboxes.select(!(e=void 0===e?!0:e))}),t.registerPlural("columns().checkboxes.deselectAll()","column().checkboxes.deselectAll()",function(){return this.iterator("column",function(e,t){e.aoColumns[t].checkboxes&&(e.checkboxes.s.data[t]={},this.column(t).checkboxes.select(!1))},1)}),t.registerPlural("columns().checkboxes.selected()","column().checkboxes.selected()",function(){return this.iterator("column-rows",function(c,o,e,t,s){var l,a;return c.aoColumns[o].checkboxes?(l=[],c.oFeatures.bServerSide?x.each(c.checkboxes.s.data[o],function(e){c.checkboxes.isCellSelectable(o,e)&&l.push(e)}):(a=[],x.each(s,function(e,t){a.push({row:t,column:o})}),s=this.cells(a).data(),x.each(s,function(e,t){Object.prototype.hasOwnProperty.call(c.checkboxes.s.data,o)&&Object.prototype.hasOwnProperty.call(c.checkboxes.s.data[o],t)&&c.checkboxes.isCellSelectable(o,t)&&l.push(t)})),l):[]},1)}),p.version="1.2.13",x.fn.DataTable.Checkboxes=p,x.fn.dataTable.Checkboxes=p,x(k).on("preInit.dt.dtCheckboxes",function(e,t){"dt"===e.namespace&&new p(t)}),p});
//# sourceMappingURL=dataTables.checkboxes.min.js.map